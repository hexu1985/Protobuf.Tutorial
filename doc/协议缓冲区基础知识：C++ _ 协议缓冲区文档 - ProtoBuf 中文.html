<!DOCTYPE html>
<!-- saved from url=(0052)https://protobuf.com.cn/getting-started/cpptutorial/ -->
<html itemscope="" itemtype="http://schema.org/WebPage" class="no-js" lang="zh-hans"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>
.navbar-brand__name {
  font-size: 0;
}
.navbar-brand__name::after {
  font-size: 1.25rem;
  content: 'ProtoBuf 文档';
}
</style><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="generator" content="Hugo 0.123.8"><meta name="robots" content="index, follow"><link rel="shortcut icon" href="https://protobuf.com.cn/favicons/favicon.ico"><link rel="apple-touch-icon" href="https://protobuf.com.cn/favicons/apple-touch-icon-180x180.png" sizes="180x180"><link rel="icon" type="image/png" href="https://protobuf.com.cn/favicons/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="https://protobuf.com.cn/favicons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="https://protobuf.com.cn/favicons/android-36x36.png" sizes="36x36"><link rel="icon" type="image/png" href="https://protobuf.com.cn/favicons/android-48x48.png" sizes="48x48"><link rel="icon" type="image/png" href="https://protobuf.com.cn/favicons/android-72x72.png" sizes="72x72"><link rel="icon" type="image/png" href="https://protobuf.com.cn/favicons/android-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="https://protobuf.com.cn/favicons/android-144x144.png" sizes="144x144"><link rel="icon" type="image/png" href="https://protobuf.com.cn/favicons/android-192x192.png" sizes="192x192"><title>协议缓冲区基础知识：C++ | 协议缓冲区文档 - ProtoBuf 中文</title>
<meta property="og:title" content="Protocol Buffer Basics: C++"><meta property="og:description" content="A basic C++ programmers introduction to working with protocol buffers."><meta property="og:type" content="article"><meta property="og:url" content="http://protobuf.com.cn/getting-started/cpptutorial/"><meta property="article:section" content="getting-started"><meta itemprop="name" content="Protocol Buffer Basics: C++"><meta itemprop="description" content="A basic C++ programmers introduction to working with protocol buffers."><meta itemprop="wordCount" content="3894"><meta itemprop="keywords" content=""><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Protocol Buffer Basics: C++"><meta name="twitter:description" content="A basic C++ programmers introduction to working with protocol buffers."><link rel="preload" href="./协议缓冲区基础知识：C++ _ 协议缓冲区文档 - ProtoBuf 中文_files/main.min.d6cc2ae862fa5c937a2dbb3d86c775f5e0f56868c19e280b817554aeceea0342.css" as="style"><link href="./协议缓冲区基础知识：C++ _ 协议缓冲区文档 - ProtoBuf 中文_files/main.min.d6cc2ae862fa5c937a2dbb3d86c775f5e0f56868c19e280b817554aeceea0342.css" rel="stylesheet" integrity=""><script defer="" referrerpolicy="origin" src="./协议缓冲区基础知识：C++ _ 协议缓冲区文档 - ProtoBuf 中文_files/s.js"></script><script src="./协议缓冲区基础知识：C++ _ 协议缓冲区文档 - ProtoBuf 中文_files/jquery-3.6.0.min.js" integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK" crossorigin="anonymous"></script><script async="" src="./协议缓冲区基础知识：C++ _ 协议缓冲区文档 - ProtoBuf 中文_files/js"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5L8P8GRN4Y")}</script><script nonce="b2c18d33-839d-47b0-9569-d4cee0edaa7a">try{(function(w,d){!function(j,k,l,m){j[l]=j[l]||{};j[l].executed=[];j.zaraz={deferred:[],listeners:[]};j.zaraz._v="5689";j.zaraz.q=[];j.zaraz._f=function(n){return async function(){var o=Array.prototype.slice.call(arguments);j.zaraz.q.push({m:n,a:o})}};for(const p of["track","set","debug"])j.zaraz[p]=j.zaraz._f(p);j.zaraz.init=()=>{var q=k.getElementsByTagName(m)[0],r=k.createElement(m),s=k.getElementsByTagName("title")[0];s&&(j[l].t=k.getElementsByTagName("title")[0].text);j[l].x=Math.random();j[l].w=j.screen.width;j[l].h=j.screen.height;j[l].j=j.innerHeight;j[l].e=j.innerWidth;j[l].l=j.location.href;j[l].r=k.referrer;j[l].k=j.screen.colorDepth;j[l].n=k.characterSet;j[l].o=(new Date).getTimezoneOffset();if(j.dataLayer)for(const w of Object.entries(Object.entries(dataLayer).reduce(((x,y)=>({...x[1],...y[1]})),{})))zaraz.set(w[0],w[1],{scope:"page"});j[l].q=[];for(;j.zaraz.q.length;){const z=j.zaraz.q.shift();j[l].q.push(z)}r.defer=!0;for(const A of[localStorage,sessionStorage])Object.keys(A||{}).filter((C=>C.startsWith("_zaraz_"))).forEach((B=>{try{j[l]["z_"+B.slice(7)]=JSON.parse(A.getItem(B))}catch{j[l]["z_"+B.slice(7)]=A.getItem(B)}}));r.referrerPolicy="origin";r.src="/cdn-cgi/zaraz/s.js?z="+btoa(encodeURIComponent(JSON.stringify(j[l])));q.parentNode.insertBefore(r,q)};["complete","interactive"].includes(k.readyState)?zaraz.init():j.addEventListener("DOMContentLoaded",zaraz.init)}(w,d,"zarazData","script");})(window,document)}catch(e){throw fetch("/cdn-cgi/zaraz/t"),e;};</script></head><body class="td-page"><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class="navbar-brand" href="https://protobuf.com.cn/"><span class="navbar-brand__logo navbar-logo"></span><span class="navbar-brand__name">协议缓冲区文档</span></a><div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar"><ul class="navbar-nav mt-2 mt-lg-0"></ul></div><div class="navbar-nav d-none d-lg-block"><div class="td-search"><div class="td-search__icon"></div><input type="search" class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete="off"></div></div></nav></header><div class="container-fluid td-outer"><div class="td-main"><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id="td-sidebar-menu" class="td-sidebar__inner"><div id="content-mobile"><form class="td-sidebar__search d-flex align-items-center"><div class="td-search"><div class="td-search__icon"></div><input type="search" class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete="off"></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation"></button></form></div><div id="content-desktop"></div><nav class="collapse td-sidebar-nav" id="td-section-nav"><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m--li"><a href="https://protobuf.com.cn/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-"><span>协议缓冲区</span></a><ul class="ul-1"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-overview-li"><a href="https://protobuf.com.cn/overview/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-overview"><span>概述</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-news-li"><a href="https://protobuf.com.cn/news/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-news"><span>新闻</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-programming-guides-li"><a href="https://protobuf.com.cn/programming-guides/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-programming-guides"><span>编程指南</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidesproto2-li"><a href="https://protobuf.com.cn/programming-guides/proto2/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidesproto2"><span>语言指南 (proto 2)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidesproto3-li"><a href="https://protobuf.com.cn/programming-guides/proto3/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidesproto3"><span>语言指南 (proto 3)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidesstyle-li"><a href="https://protobuf.com.cn/programming-guides/style/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidesstyle"><span>风格指南</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidesenum-li"><a href="https://protobuf.com.cn/programming-guides/enum/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidesenum"><span>枚举行为</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidesencoding-li"><a href="https://protobuf.com.cn/programming-guides/encoding/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidesencoding"><span>编码</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidestechniques-li"><a href="https://protobuf.com.cn/programming-guides/techniques/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidestechniques"><span>技术</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidesaddons-li"><a href="https://protobuf.com.cn/programming-guides/addons/" title="Third-Party Add-ons" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidesaddons"><span>附加组件</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidesextension_declarations-li"><a href="https://protobuf.com.cn/programming-guides/extension_declarations/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidesextension_declarations"><span>扩展声明</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidesfield_presence-li"><a href="https://protobuf.com.cn/programming-guides/field_presence/" title="Application Note: Field Presence" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidesfield_presence"><span>字段存在</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidesdos-donts-li"><a href="https://protobuf.com.cn/programming-guides/dos-donts/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidesdos-donts"><span>Proto 最佳实践</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-programming-guidesapi-li"><a href="https://protobuf.com.cn/programming-guides/api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-programming-guidesapi"><span>API 最佳实践</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-editions-li"><a href="https://protobuf.com.cn/editions/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-editions"><span>Protobuf 版本</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-editionsoverview-li"><a href="https://protobuf.com.cn/editions/overview/" title="Protobuf Editions Overview" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-editionsoverview"><span>概述</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-editionsfeatures-li"><a href="https://protobuf.com.cn/editions/features/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-editionsfeatures"><span>版本的特性设置</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-getting-started-li"><a href="https://protobuf.com.cn/getting-started/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-getting-started"><span>教程</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-getting-startedcpptutorial-li"><a href="https://protobuf.com.cn/getting-started/cpptutorial/" title="Protocol Buffer Basics: C++" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-getting-startedcpptutorial"><span class="td-sidebar-nav-active-item">C++</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-getting-startedcsharptutorial-li"><a href="https://protobuf.com.cn/getting-started/csharptutorial/" title="Protocol Buffer Basics: C#" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-getting-startedcsharptutorial"><span>C#</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-getting-starteddarttutorial-li"><a href="https://protobuf.com.cn/getting-started/darttutorial/" title="Protocol Buffer Basics: Dart" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-getting-starteddarttutorial"><span>Dart</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-getting-startedgotutorial-li"><a href="https://protobuf.com.cn/getting-started/gotutorial/" title="Protocol Buffer Basics: Go" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-getting-startedgotutorial"><span>Go</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-getting-startedjavatutorial-li"><a href="https://protobuf.com.cn/getting-started/javatutorial/" title="Protocol Buffer Basics: Java" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-getting-startedjavatutorial"><span>Java</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-getting-startedkotlintutorial-li"><a href="https://protobuf.com.cn/getting-started/kotlintutorial/" title="Protocol Buffer Basics: Kotlin" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-getting-startedkotlintutorial"><span>Kotlin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-getting-startedpythontutorial-li"><a href="https://protobuf.com.cn/getting-started/pythontutorial/" title="Protocol Buffer Basics: Python" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-getting-startedpythontutorial"><span>Python</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-reference-li"><a href="https://protobuf.com.cn/reference/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-reference"><span>参考指南</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencecpp-li"><a href="https://protobuf.com.cn/reference/cpp/" title="C++ Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencecpp"><span>C++</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencecppcpp-generated-li"><a href="https://protobuf.com.cn/reference/cpp/cpp-generated/" title="C++ Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencecppcpp-generated"><span>生成代码指南</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencecpparenas-li"><a href="https://protobuf.com.cn/reference/cpp/arenas/" title="C++ Arena Allocation Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencecpparenas"><span>Arena 分配指南</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencecppapi-docs-link-li"><a href="https://protobuf.com.cn/reference/cpp/api-docs-link/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencecppapi-docs-link"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencecsharp-li"><a href="https://protobuf.com.cn/reference/csharp/" title="C# Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencecsharp"><span>C#</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencecsharpcsharp-generated-li"><a href="https://protobuf.com.cn/reference/csharp/csharp-generated/" title="C# Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencecsharpcsharp-generated"><span>生成代码指南</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencecsharpapi-docs-link-li"><a href="https://protobuf.com.cn/reference/csharp/api-docs-link/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencecsharpapi-docs-link"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencecsharpapi-docs-li"><a href="https://protobuf.com.cn/reference/csharp/api-docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencecsharpapi-docs"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencedart-li"><a href="https://protobuf.com.cn/reference/dart/" title="Dart Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencedart"><span>Dart</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencedartdart-generated-li"><a href="https://protobuf.com.cn/reference/dart/dart-generated/" title="Dart Generated Code" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencedartdart-generated"><span>生成代码</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencedartapi-docs-link-li"><a href="https://protobuf.com.cn/reference/dart/api-docs-link/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencedartapi-docs-link"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencego-li"><a href="https://protobuf.com.cn/reference/go/" title="Go Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencego"><span>Go</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencegogo-generated-li"><a href="https://protobuf.com.cn/reference/go/go-generated/" title="Go Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencegogo-generated"><span>生成代码指南</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencegofaq-li"><a href="https://protobuf.com.cn/reference/go/faq/" title="Go FAQ" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencegofaq"><span>常见问题解答</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencegoapi-docs-link-li"><a href="https://protobuf.com.cn/reference/go/api-docs-link/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencegoapi-docs-link"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencejava-li"><a href="https://protobuf.com.cn/reference/java/" title="Java Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencejava"><span>Java</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavajava-generated-li"><a href="https://protobuf.com.cn/reference/java/java-generated/" title="Java Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavajava-generated"><span>生成代码指南</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavajava-proto-names-li"><a href="https://protobuf.com.cn/reference/java/java-proto-names/" title="Java Proto Names" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavajava-proto-names"><span>生成的 Proto 名称</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docs-link-li"><a href="https://protobuf.com.cn/reference/java/api-docs-link/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docs-link"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docsallclasses-frame-li"><a href="https://protobuf.com.cn/reference/java/api-docs/allclasses-frame/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docsallclasses-frame"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docsallclasses-noframe-li"><a href="https://protobuf.com.cn/reference/java/api-docs/allclasses-noframe/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docsallclasses-noframe"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufabstractmessagebuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/abstractmessage.builder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufabstractmessagebuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufabstractmessage-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/abstractmessage/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufabstractmessage"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufabstractmessagelitebuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/abstractmessagelite.builder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufabstractmessagelitebuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufabstractmessagelite-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/abstractmessagelite/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufabstractmessagelite"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufabstractparser-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/abstractparser/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufabstractparser"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufanybuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/any.builder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufanybuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufany-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/any/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufany"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufanyorbuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/anyorbuilder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufanyorbuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufanyproto-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/anyproto/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufanyproto"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufapibuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/api.builder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufapibuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufapi-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufapi"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufapiorbuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/apiorbuilder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufapiorbuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufapiproto-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/apiproto/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufapiproto"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufblockingrpcchannel-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/blockingrpcchannel/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufblockingrpcchannel"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufblockingservice-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/blockingservice/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufblockingservice"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufboolvaluebuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/boolvalue.builder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufboolvaluebuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufboolvalue-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/boolvalue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufboolvalue"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufboolvalueorbuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/boolvalueorbuilder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufboolvalueorbuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufbyteoutput-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/byteoutput/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufbyteoutput"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufbytestringbyteiterator-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/bytestring.byteiterator/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufbytestringbyteiterator"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufbytestring-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/bytestring/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufbytestring"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufbytestringoutput-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/bytestring.output/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufbytestringoutput"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufbytesvaluebuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/bytesvalue.builder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufbytesvaluebuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufbytesvalue-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/bytesvalue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufbytesvalue"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufbytesvalueorbuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/bytesvalueorbuilder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufbytesvalueorbuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcodedinputstream-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/codedinputstream/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcodedinputstream"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcodedoutputstream-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/codedoutputstream/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcodedoutputstream"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcodedoutputstreamoutofspaceexception-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/codedoutputstream.outofspaceexception/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcodedoutputstreamoutofspaceexception"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpackage-frame-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/package-frame/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpackage-frame"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpackage-summary-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/package-summary/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpackage-summary"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpackage-tree-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/package-tree/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpackage-tree"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorrequestbuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.codegeneratorrequest.builder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorrequestbuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorrequest-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.codegeneratorrequest/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorrequest"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorrequestorbuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.codegeneratorrequestorbuilder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorrequestorbuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponsebuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.codegeneratorresponse.builder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponsebuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponsefeature-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.codegeneratorresponse.feature/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponsefeature"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponsefilebuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.codegeneratorresponse.file.builder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponsefilebuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponsefile-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.codegeneratorresponse.file/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponsefile"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponsefileorbuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.codegeneratorresponse.fileorbuilder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponsefileorbuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponse-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.codegeneratorresponse/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponse"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponseorbuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.codegeneratorresponseorbuilder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotoscodegeneratorresponseorbuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotos-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotos"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotosversionbuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.version.builder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotosversionbuilder"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotosversion-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.version/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotosversion"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotosversionorbuilder-li"><a href="https://protobuf.com.cn/reference/java/api-docs/com/google/protobuf/compiler/pluginprotos.versionorbuilder/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencejavaapi-docscomgoogleprotobufcompilerpluginprotosversionorbuilder"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencekotlin-li"><a href="https://protobuf.com.cn/reference/kotlin/" title="Kotlin Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencekotlin"><span>Kotlin</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencekotlinapi-docs-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/" title="Kotlin Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencekotlinapi-docs"><span>Kotlin</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin"><span></span></a><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-list-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-list/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-list"><span></span></a><ul class="ul-6 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-list-dsl-list-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-list/-dsl-list/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-list-dsl-list"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-listequals-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-list/equals/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-listequals"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-listhash-code-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-list/hash-code/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-listhash-code"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-listiterator-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-list/iterator/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-listiterator"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-listlist-iterator-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-list/list-iterator/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-listlist-iterator"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-listto-string-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-list/to-string/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-listto-string"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-map-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-map/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-map"><span></span></a><ul class="ul-6 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-map-dsl-map-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-map/-dsl-map/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-map-dsl-map"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-mapentries-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-map/entries/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-mapentries"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-mapequals-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-map/equals/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-mapequals"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-maphash-code-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-map/hash-code/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-maphash-code"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-mapkeys-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-map/keys/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-mapkeys"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-mapto-string-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-map/to-string/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-mapto-string"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-mapvalues-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-map/values/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-mapvalues"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-proxy-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-dsl-proxy/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-dsl-proxy"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-list-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-extension-list/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-list"><span></span></a><ul class="ul-6 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-list-extension-list-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-extension-list/-extension-list/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-list-extension-list"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listequals-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-extension-list/equals/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listequals"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listextension-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-extension-list/extension/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listextension"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listhash-code-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-extension-list/hash-code/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listhash-code"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listiterator-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-extension-list/iterator/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listiterator"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listlist-iterator-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-extension-list/list-iterator/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listlist-iterator"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listto-string-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-extension-list/to-string/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-extension-listto-string"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-only-for-use-by-generated-proto-code-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-only-for-use-by-generated-proto-code/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-only-for-use-by-generated-proto-code"><span></span></a><ul class="ul-6 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-only-for-use-by-generated-proto-code-only-for-use-by-generated-proto-code-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-only-for-use-by-generated-proto-code/-only-for-use-by-generated-proto-code/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-only-for-use-by-generated-proto-code-only-for-use-by-generated-proto-code"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-proto-dsl-marker-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-proto-dsl-marker/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-proto-dsl-marker"><span></span></a><ul class="ul-6 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-proto-dsl-marker-proto-dsl-marker-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/-proto-dsl-marker/-proto-dsl-marker/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlin-proto-dsl-marker-proto-dsl-marker"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlincontains-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/contains/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlincontains"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinget-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/get/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinget"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinis-a-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/is-a/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinis-a"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinplus-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/plus/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinplus"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinset-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/set/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinset"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinto-byte-string-utf8-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/to-byte-string-utf8/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinto-byte-string-utf8"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinto-byte-string-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/to-byte-string/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinto-byte-string"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinunpack-li"><a href="https://protobuf.com.cn/reference/kotlin/api-docs/protobuf-kotlin/com.google.protobuf.kotlin/unpack/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinapi-docsprotobuf-kotlincomgoogleprotobufkotlinunpack"><span></span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencekotlinkotlin-generated-li"><a href="https://protobuf.com.cn/reference/kotlin/kotlin-generated/" title="Kotlin Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencekotlinkotlin-generated"><span>生成代码指南</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referenceobjective-c-li"><a href="https://protobuf.com.cn/reference/objective-c/" title="Objective-C Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referenceobjective-c"><span>Objective-C</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referenceobjective-cobjective-c-generated-li"><a href="https://protobuf.com.cn/reference/objective-c/objective-c-generated/" title="Objective-C Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referenceobjective-cobjective-c-generated"><span>生成代码指南</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencephp-li"><a href="https://protobuf.com.cn/reference/php/" title="PHP Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencephp"><span>PHP</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencephpphp-generated-li"><a href="https://protobuf.com.cn/reference/php/php-generated/" title="PHP Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencephpphp-generated"><span>生成代码指南</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencephpapi-docs-link-li"><a href="https://protobuf.com.cn/reference/php/api-docs-link/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencephpapi-docs-link"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencephpapi-docs-li"><a href="https://protobuf.com.cn/reference/php/api-docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencephpapi-docs"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referencepython-li"><a href="https://protobuf.com.cn/reference/python/" title="Python Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referencepython"><span>Python</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencepythonpython-generated-li"><a href="https://protobuf.com.cn/reference/python/python-generated/" title="Python Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencepythonpython-generated"><span>生成代码指南</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencepythonapi-docs-link-li"><a href="https://protobuf.com.cn/reference/python/api-docs-link/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencepythonapi-docs-link"><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referenceruby-li"><a href="https://protobuf.com.cn/reference/ruby/" title="Ruby Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referenceruby"><span>Ruby</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referencerubyruby-generated-li"><a href="https://protobuf.com.cn/reference/ruby/ruby-generated/" title="Ruby Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referencerubyruby-generated"><span>生成代码指南</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-referenceprotobuf-li"><a href="https://protobuf.com.cn/reference/protobuf/" title="Protocol Buffers Reference" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-referenceprotobuf"><span>协议缓冲区</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referenceprotobufproto2-spec-li"><a href="https://protobuf.com.cn/reference/protobuf/proto2-spec/" title="Protocol Buffers Version 2 Language Specification" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referenceprotobufproto2-spec"><span>版本 2 语言规范</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referenceprotobufproto3-spec-li"><a href="https://protobuf.com.cn/reference/protobuf/proto3-spec/" title="Protocol Buffers Version 3 Language Specification" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referenceprotobufproto3-spec"><span>版本 3 语言规范</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referenceprotobuftextformat-spec-li"><a href="https://protobuf.com.cn/reference/protobuf/textformat-spec/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referenceprotobuftextformat-spec"><span>文本格式语言规范</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referenceprotobufgoogleprotobuf-li"><a href="https://protobuf.com.cn/reference/protobuf/google.protobuf/" title="Protocol Buffers Well-Known Types" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referenceprotobufgoogleprotobuf"><span>众所周知的类型</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-referenceother-li"><a href="https://protobuf.com.cn/reference/other/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-referenceother"><span>其他语言</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-support-li"><a href="https://protobuf.com.cn/support/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-support"><span>支持</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-supportversion-support-li"><a href="https://protobuf.com.cn/support/version-support/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-supportversion-support"><span>版本支持</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-supportmigration-li"><a href="https://protobuf.com.cn/support/migration/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-supportmigration"><span>迁移指南</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-supportcross-version-runtime-guarantee-li"><a href="https://protobuf.com.cn/support/cross-version-runtime-guarantee/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-supportcross-version-runtime-guarantee"><span>跨版本运行时保证</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-downloads-li"><a href="https://protobuf.com.cn/downloads/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-downloads"><span>下载</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-history-li"><a href="https://protobuf.com.cn/history/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-history"><span>历史</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-forum-link-li"><a href="https://groups.google.com/g/protobuf" target="_blank" rel="noopener" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-forum-link"><span>论坛</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-navbar-li"><a href="https://protobuf.com.cn/navbar/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-navbar"><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-search-li"><a href="https://protobuf.com.cn/search/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-search"><span>搜索结果</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href="https://github.com/protocolbuffers/protocolbuffers.github.io/tree/main/content/getting-started/cpptutorial.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa-solid fa-file-lines fa-fw"></i> 查看页面源</a> <a href="https://github.com/protocolbuffers/protocolbuffers.github.io/edit/main/content/getting-started/cpptutorial.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> 编辑此页面</a> <a href="https://github.com/protocolbuffers/protocolbuffers.github.io/new/main/content/getting-started/cpptutorial.md?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa-solid fa-pen-to-square fa-fw"></i> 创建子页面</a> <a href="https://github.com/protocolbuffers/protocolbuffers.github.io/issues/new?title=Protocol%20Buffer%20Basics:%20C++" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> 创建文档问题</a> <a href="https://github.com/protocolbuffers/protobuf/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fa-solid fa-list-check fa-fw"></i> 创建项目问题</a></div><div class="td-toc"><nav id="TableOfContents"><ul><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#problem-domain">问题域</a></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#example-code">在哪里找到示例代码</a></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#protocol-format">定义您的协议格式</a></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#compiling-protocol-buffers">编译您的协议缓冲区</a></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#protobuf-api">协议缓冲区 API</a><ul><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#enums-nested-classes">枚举和嵌套类</a></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#standard-message-methods">标准消息方法</a></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#parsing-serialization">解析和序列化</a></li></ul></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#writing-a-message">编写消息</a></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#reading-a-message">读取消息</a></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#extending-a-protobuf">扩展协议缓冲区</a></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#optimization">优化提示</a></li><li><a href="https://protobuf.com.cn/getting-started/cpptutorial/#advanced-usage">高级用法</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main"><nav aria-label="breadcrumb" class="td-breadcrumbs"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://protobuf.com.cn/getting-started/">教程</a></li><li class="breadcrumb-item active" aria-current="page"><a href="https://protobuf.com.cn/getting-started/cpptutorial/" aria-disabled="true" class="btn-link disabled">C++</a></li></ol></nav><div class="td-content"><h1>协议缓冲区基础知识：C++</h1><div class="lead">C++ 程序员使用协议缓冲区的简介。</div><header class="article-meta"></header><p>本教程为 C++ 程序员提供了使用协议缓冲区的简介。通过逐步创建一个简单的示例应用程序，它向您展示如何</p><ul><li>在 <code>.proto</code> 文件中定义消息格式。</li><li>使用协议缓冲区编译器。</li><li>使用 C++ 协议缓冲区 API 编写和读取消息。</li></ul><p>这不是在 C++ 中使用协议缓冲区的全面指南。有关更详细的参考信息，请参阅 <a href="https://protobuf.com.cn/programming-guides/proto">协议缓冲区语言指南 (proto2)</a>、<a href="https://protobuf.com.cn/programming-guides/proto3/">协议缓冲区语言指南 (proto3)</a>、<a href="https://protobuf.com.cn/reference/cpp/api-docs/">C++ API 参考</a>、<a href="https://protobuf.com.cn/reference/cpp/cpp-generated/">C++ 生成的代码指南</a> 和 <a href="https://protobuf.com.cn/programming-guides/encoding/">编码参考</a>。</p><h2 id="problem-domain">问题域<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#problem-domain" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>我们将使用的示例是一个非常简单的“通讯录”应用程序，它可以将人员的联系方式读写到文件中。通讯录中的每个人都有一个姓名、一个 ID、一个电子邮件地址和一个联系电话号码。</p><p>您如何序列化和检索此类结构化数据？有几种方法可以解决此问题</p><ul><li>原始内存中数据结构可以以二进制形式发送/保存。随着时间的推移，这是一种脆弱的方法，因为接收/读取代码必须使用完全相同的内存布局、字节序等进行编译。此外，随着文件以原始格式累积数据并传播针对该格式进行连接的软件副本，扩展格式非常困难。</li><li>您可以发明一种临时方法将数据项编码成单个字符串，例如将 4 个整数编码为“12:3:-23:67”。这是一种简单且灵活的方法，尽管它确实需要编写一次性编码和解析代码，并且解析会产生较小的运行时成本。这最适合对非常简单的数据进行编码。</li><li>将数据序列化为 XML。这种方法可能非常有吸引力，因为 XML（某种程度上）是人类可读的，并且有很多语言的绑定库。如果您想与其他应用程序/项目共享数据，这可能是一个不错的选择。但是，XML 出了名地占用空间，并且对其进行编码/解码可能会对应用程序造成巨大的性能损失。此外，导航 XML DOM 树比通常在类中导航简单字段复杂得多。</li></ul><p>您可以使用协议缓冲区，而不是这些选项。协议缓冲区是灵活、高效、自动化的解决方案，可以完全解决此问题。使用协议缓冲区，您可以编写一个 <code>.proto</code> 数据结构描述，您希望存储该数据结构。由此，协议缓冲区编译器会创建一个类，该类实现使用高效二进制格式对协议缓冲区数据进行自动编码和解析。生成的类为构成协议缓冲区的字段提供 getter 和 setter，并负责以一个单元读取和写入协议缓冲区的详细信息。重要的是，协议缓冲区格式支持随着时间的推移扩展格式的想法，这样代码仍然可以读取使用旧格式编码的数据。</p><h2 id="example-code">在哪里找到示例代码<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#example-code" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>示例代码包含在源代码包中，“<a href="https://github.com/protocolbuffers/protobuf/tree/main/examples">示例”目录</a>下。</p><h2 id="protocol-format">定义您的协议格式<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#protocol-format" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>要创建通讯录应用程序，您需要从一个 <code>.proto</code> 文件开始。<code>.proto</code> 文件中的定义很简单：为要序列化的每个数据结构添加一个 <em>消息</em>，然后为消息中的每个字段指定一个名称和一个类型。以下是定义消息的 <code>.proto</code> 文件，<code>addressbook.proto</code>。</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-proto" data-lang="proto"><span style="display:flex"><span><span style="color:#000">syntax</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#4e9a06">"proto2"</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:700">package</span> <span style="color:#000">tutorial</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:700">message</span> <span style="color:#000">Person</span> <span style="color:#000;font-weight:700">{</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>  <span style="color:#204a87;font-weight:700">optional</span> <span style="color:#204a87;font-weight:700">string</span> <span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>  <span style="color:#204a87;font-weight:700">optional</span> <span style="color:#204a87;font-weight:700">int32</span> <span style="color:#000">id</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">2</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>  <span style="color:#204a87;font-weight:700">optional</span> <span style="color:#204a87;font-weight:700">string</span> <span style="color:#000">email</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">3</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>  <span style="color:#204a87;font-weight:700">enum</span> <span style="color:#000">PhoneType</span> <span style="color:#000;font-weight:700">{</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>    <span style="color:#000">PHONE_TYPE_UNSPECIFIED</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">0</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>    <span style="color:#000">PHONE_TYPE_MOBILE</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>    <span style="color:#000">PHONE_TYPE_HOME</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">2</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>    <span style="color:#000">PHONE_TYPE_WORK</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">3</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>  <span style="color:#000;font-weight:700">}</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>  <span style="color:#204a87;font-weight:700">message</span> <span style="color:#000">PhoneNumber</span> <span style="color:#000;font-weight:700">{</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>    <span style="color:#204a87;font-weight:700">optional</span> <span style="color:#204a87;font-weight:700">string</span> <span style="color:#000">number</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>    <span style="color:#204a87;font-weight:700">optional</span> <span style="color:#000">PhoneType</span> <span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">2</span> <span style="color:#000;font-weight:700">[</span><span style="color:#204a87;font-weight:700">default</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#000">PHONE_TYPE_HOME</span><span style="color:#000;font-weight:700">];</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>  <span style="color:#000;font-weight:700">}</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>  <span style="color:#204a87;font-weight:700">repeated</span> <span style="color:#000">PhoneNumber</span> <span style="color:#000">phones</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">4</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span><span style="color:#000;font-weight:700">}</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:700">message</span> <span style="color:#000">AddressBook</span> <span style="color:#000;font-weight:700">{</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span>  <span style="color:#204a87;font-weight:700">repeated</span> <span style="color:#000">Person</span> <span style="color:#000">people</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">;</span><span style="color:#a40000">
</span></span></span><span style="display:flex"><span><span style="color:#a40000"></span><span style="color:#000;font-weight:700">}</span><span style="color:#a40000">
</span></span></span></code></pre></div><p>如您所见，语法类似于 C++ 或 Java。让我们逐一了解文件中的每个部分及其作用。</p><p><code>.proto</code> 文件以包声明开头，这有助于防止不同项目之间的命名冲突。在 C++ 中，生成的类将被放置在与包名称匹配的命名空间中。</p><p>接下来，您有消息定义。消息只是一个包含一组类型化字段的聚合。许多标准简单数据类型可用作字段类型，包括 <code>bool</code>、<code>int32</code>、<code>float</code>、<code>double</code> 和 <code>string</code>。您还可以通过使用其他消息类型作为字段类型为消息添加进一步的结构 - 在上面的示例中，<code>Person</code> 消息包含 <code>PhoneNumber</code> 消息，而 <code>AddressBook</code> 消息包含 <code>Person</code> 消息。您甚至可以在其他消息内部定义消息类型 - 如您所见，<code>PhoneNumber</code> 类型定义在 <code>Person</code> 内部。如果您希望字段具有预定义值列表中的一个值，您还可以定义 <code>enum</code> 类型 - 在这里您要指定电话号码可以是以下电话类型之一：<code>PHONE_TYPE_MOBILE</code>、<code>PHONE_TYPE_HOME</code> 或 <code>PHONE_TYPE_WORK</code>。</p><p>每个元素上的“= 1”、“= 2”标记标识字段在二进制编码中使用的唯一字段编号。字段编号 1-15 比较高的数字编码时少一个字节，因此作为优化，您可以决定将这些数字用于常用或重复的元素，将字段编号 16 及更高用于不常用的可选元素。重复字段中的每个元素都需要重新编码字段编号，因此重复字段特别适合这种优化。</p><p>每个字段都必须使用以下修饰符之一进行注释</p><ul><li><code>optional</code>：字段可以设置，也可以不设置。如果未设置可选字段值，则使用默认值。对于简单类型，您可以指定自己的默认值，就像我们在示例中为电话号码 <code>type</code> 所做的那样。否则，将使用系统默认值：对于数字类型为零，对于字符串为空字符串，对于布尔值为 false。对于嵌入式消息，默认值始终是消息的“默认实例”或“原型”，其没有设置任何字段。调用访问器以获取尚未明确设置的可选（或必需）字段的值始终返回该字段的默认值。</li><li><code>repeated</code>：该字段可以重复任意次数（包括零次）。重复值的顺序将在协议缓冲区中保留。将重复字段视为动态大小的数组。</li><li><code>required</code>：必须提供该字段的值，否则该消息将被视为“未初始化”。如果在调试模式下编译 <code>libprotobuf</code>，序列化未初始化的消息将导致断言失败。在优化版本中，将跳过检查，并且无论如何都将写入消息。但是，解析未初始化的消息将始终失败（通过从解析方法返回 <code>false</code>）。除此之外，必需字段的行为与可选字段完全相同。</li></ul><div class="alert alert-warning" role="alert"><h4 class="alert-heading">重要</h4><strong>Required Is Forever</strong> 您应该非常小心地将字段标记为 <code>required</code>。如果您在某个时候希望停止编写或发送必需字段，将字段更改为可选字段将很成问题——旧的读取器会认为没有此字段的消息不完整，并且可能会拒绝或意外地删除它们。您应该考虑为缓冲区编写特定于应用程序的自定义验证例程。在 Google 中，强烈反对使用 <code>required</code> 字段；大多数在 proto2 语法中定义的消息仅使用 <code>optional</code> 和 <code>repeated</code>。（Proto3 根本不支持 <code>required</code> 字段。）</div><p>您可以在 <a href="https://protobuf.com.cn/programming-guides/proto">协议缓冲区语言指南</a> 中找到编写 <code>.proto</code> 文件的完整指南，包括所有可能的字段类型。不过，不要寻找类似于类继承的工具——协议缓冲区不这样做。</p><h2 id="compiling-protocol-buffers">编译您的协议缓冲区<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#compiling-protocol-buffers" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>现在您已经有了 <code>.proto</code>，接下来需要做的事情是生成读取和写入 <code>AddressBook</code>（以及 <code>Person</code> 和 <code>PhoneNumber</code>）消息所需的类。为此，您需要在 <code>.proto</code> 上运行协议缓冲区编译器 <code>protoc</code></p><ol><li><p>如果您尚未安装编译器，请 <a href="https://protobuf.com.cn/downloads/">下载该软件包</a> 并按照自述文件中的说明进行操作。</p></li><li><p>现在运行编译器，指定源目录（您的应用程序源代码所在的位置——如果您未提供值，则使用当前目录）、目标目录（您希望生成的代码所在的位置；通常与 <code>$SRC_DIR</code> 相同）以及 <code>.proto</code> 的路径。在这种情况下，您…</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="display:flex"><span>protoc -I<span style="color:#ce5c00;font-weight:700">=</span><span style="color:#000">$SRC_DIR</span> --cpp_out<span style="color:#ce5c00;font-weight:700">=</span><span style="color:#000">$DST_DIR</span> <span style="color:#000">$SRC_DIR</span>/addressbook.proto
</span></span></code></pre></div><p>由于您需要 C++ 类，因此可以使用 <code>--cpp_out</code> 选项，其他受支持的语言提供了类似的选项。</p></li></ol><p>这将在您指定的目标目录中生成以下文件</p><ul><li><code>addressbook.pb.h</code>，声明您生成的类的头文件。</li><li><code>addressbook.pb.cc</code>，包含您类的实现。</li></ul><h2 id="protobuf-api">协议缓冲区 API<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#protobuf-api" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>让我们看看一些生成的代码，了解编译器为您创建了哪些类和函数。如果您查看 <code>addressbook.pb.h</code>，您会看到您为 <code>addressbook.proto</code> 中指定的每条消息都有一个类。仔细查看 <code>Person</code> 类，您会看到编译器为每个字段生成了访问器。例如，对于 <code>name</code>、<code>id</code>、<code>email</code> 和 <code>phones</code> 字段，您有以下方法</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="display:flex"><span>  <span style="color:#8f5902;font-style:italic">// name
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">bool</span> <span style="color:#000">has_name</span><span style="color:#000;font-weight:700">()</span> <span style="color:#204a87;font-weight:700">const</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">clear_name</span><span style="color:#000;font-weight:700">();</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">const</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">std</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">string</span><span style="color:#ce5c00;font-weight:700">&amp;</span> <span style="color:#000">name</span><span style="color:#000;font-weight:700">()</span> <span style="color:#204a87;font-weight:700">const</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">set_name</span><span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">const</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">std</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">string</span><span style="color:#ce5c00;font-weight:700">&amp;</span> <span style="color:#000">value</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">set_name</span><span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">const</span> <span style="color:#204a87;font-weight:700">char</span><span style="color:#ce5c00;font-weight:700">*</span> <span style="color:#000">value</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">std</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">string</span><span style="color:#ce5c00;font-weight:700">*</span> <span style="color:#000">mutable_name</span><span style="color:#000;font-weight:700">();</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#8f5902;font-style:italic">// id
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">bool</span> <span style="color:#000">has_id</span><span style="color:#000;font-weight:700">()</span> <span style="color:#204a87;font-weight:700">const</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">clear_id</span><span style="color:#000;font-weight:700">();</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">int32_t</span> <span style="color:#000">id</span><span style="color:#000;font-weight:700">()</span> <span style="color:#204a87;font-weight:700">const</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">set_id</span><span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">int32_t</span> <span style="color:#000">value</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#8f5902;font-style:italic">// email
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">bool</span> <span style="color:#000">has_email</span><span style="color:#000;font-weight:700">()</span> <span style="color:#204a87;font-weight:700">const</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">clear_email</span><span style="color:#000;font-weight:700">();</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">const</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">std</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">string</span><span style="color:#ce5c00;font-weight:700">&amp;</span> <span style="color:#000">email</span><span style="color:#000;font-weight:700">()</span> <span style="color:#204a87;font-weight:700">const</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">set_email</span><span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">const</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">std</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">string</span><span style="color:#ce5c00;font-weight:700">&amp;</span> <span style="color:#000">value</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">set_email</span><span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">const</span> <span style="color:#204a87;font-weight:700">char</span><span style="color:#ce5c00;font-weight:700">*</span> <span style="color:#000">value</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">std</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">string</span><span style="color:#ce5c00;font-weight:700">*</span> <span style="color:#000">mutable_email</span><span style="color:#000;font-weight:700">();</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#8f5902;font-style:italic">// phones
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">int</span> <span style="color:#000">phones_size</span><span style="color:#000;font-weight:700">()</span> <span style="color:#204a87;font-weight:700">const</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">clear_phones</span><span style="color:#000;font-weight:700">();</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">const</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">google</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">protobuf</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">RepeatedPtrField</span><span style="color:#ce5c00;font-weight:700">&lt;</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person_PhoneNumber</span> <span style="color:#ce5c00;font-weight:700">&gt;&amp;</span> <span style="color:#000">phones</span><span style="color:#000;font-weight:700">()</span> <span style="color:#204a87;font-weight:700">const</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">google</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">protobuf</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">RepeatedPtrField</span><span style="color:#ce5c00;font-weight:700">&lt;</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person_PhoneNumber</span> <span style="color:#ce5c00;font-weight:700">&gt;*</span> <span style="color:#000">mutable_phones</span><span style="color:#000;font-weight:700">();</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#204a87;font-weight:700">const</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person_PhoneNumber</span><span style="color:#ce5c00;font-weight:700">&amp;</span> <span style="color:#000">phones</span><span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">int</span> <span style="color:#000">index</span><span style="color:#000;font-weight:700">)</span> <span style="color:#204a87;font-weight:700">const</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person_PhoneNumber</span><span style="color:#ce5c00;font-weight:700">*</span> <span style="color:#000">mutable_phones</span><span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">int</span> <span style="color:#000">index</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">inline</span> <span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person_PhoneNumber</span><span style="color:#ce5c00;font-weight:700">*</span> <span style="color:#000">add_phones</span><span style="color:#000;font-weight:700">();</span>
</span></span></code></pre></div><p>如您所见，getter 的名称与小写的字段名称完全相同，setter 方法以 <code>set_</code> 开头。对于每个单数（必需或可选）字段，还有 <code>has_</code> 方法，如果该字段已设置，则返回 true。最后，每个字段都有一个 <code>clear_</code> 方法，该方法将字段恢复为空状态。</p><p>虽然数字 <code>id</code> 字段仅具有上面描述的基本访问器集，但 <code>name</code> 和 <code>email</code> 字段有几个额外的方法，因为它们是字符串 - 一个 <code>mutable_</code> getter，它允许您获取字符串的直接指针，以及一个额外的 setter。请注意，即使尚未设置 <code>email</code>，您也可以调用 <code>mutable_email()</code>；它将自动初始化为空字符串。如果您在此示例中有重复的消息字段，它还将具有 <code>mutable_</code> 方法，但没有 <code>set_</code> 方法。</p><p>重复的字段也有一些特殊的方法 - 如果你查看重复的 <code>phones</code> 字段的方法，你会看到你可以</p><ul><li>检查重复字段的 <code>_size</code>（换句话说，有多少个电话号码与此 <code>Person</code> 关联）。</li><li>使用其索引获取指定的电话号码。</li><li>更新指定索引处的现有电话号码。</li><li>向消息中添加另一个电话号码，然后您可以对其进行编辑（重复的标量类型有一个 <code>add_</code>，它只允许您传入新值）。</li></ul><p>有关协议编译器为任何特定字段定义生成的成员的更多信息，请参阅 <a href="https://protobuf.com.cn/reference/cpp/cpp-generated/">C++ 生成的代码参考</a>。</p><h3 id="enums-nested-classes">枚举和嵌套类<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#enums-nested-classes" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3><p>生成的代码包含一个与您的 <code>.proto</code> 枚举相对应的 <code>PhoneType</code> 枚举。您可以将此类型称为 <code>Person::PhoneType</code>，并将其值称为 <code>Person::PHONE_TYPE_MOBILE</code>、<code>Person::PHONE_TYPE_HOME</code> 和 <code>Person::PHONE_TYPE_WORK</code>（实现细节稍微复杂一些，但您无需了解它们即可使用枚举）。</p><p>编译器还为您生成了一个名为 <code>Person::PhoneNumber</code> 的嵌套类。如果您查看代码，您会看到“真实”的类实际上称为 <code>Person_PhoneNumber</code>，但在 <code>Person</code> 内部定义的 typedef 允许您将其视为嵌套类。唯一有区别的情况是，如果您想在另一个文件中预先声明该类 - 您无法在 C++ 中预先声明嵌套类型，但您可以预先声明 <code>Person_PhoneNumber</code>。</p><h3 id="standard-message-methods">标准消息方法<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#standard-message-methods" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3><p>每个消息类还包含许多其他方法，让您能够检查或操作整个消息，包括</p><ul><li><code>bool IsInitialized() const;</code>：检查是否已设置所有必需字段。</li><li><code>string DebugString() const;</code>：返回消息的人类可读表示形式，特别适用于调试。</li><li><code>void CopyFrom(const Person&amp; from);</code>：使用给定消息的值覆盖消息。</li><li><code>void Clear();</code>：清除所有元素，返回到空状态。</li></ul><p>这些方法和以下部分中描述的 I/O 方法实现了所有 C++ 协议缓冲区类共享的 <code>Message</code> 接口。有关更多信息，请参阅 <code>Message</code> 的 <a href="https://protobuf.com.cn/reference/cpp/api-docs/google.protobuf.message/#Message">完整 API 文档</a>。</p><h3 id="parsing-serialization">解析和序列化<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#parsing-serialization" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h3><p>最后，每个协议缓冲区类都有用于使用协议缓冲区 <a href="https://protobuf.com.cn/programming-guides/encoding/">二进制格式</a> 编写和读取您选择的类型消息的方法。这些方法包括</p><ul><li><code>bool SerializeToString(string* output) const;</code>：序列化消息并将字节存储在给定的字符串中。请注意，字节是二进制的，不是文本；我们仅将 <code>string</code> 类用作一个方便的容器。</li><li><code>bool ParseFromString(const string&amp; data);</code>：从给定的字符串解析消息。</li><li><code>bool SerializeToOstream(ostream* output) const;</code>：将消息写入给定的 C++ <code>ostream</code>。</li><li><code>bool ParseFromIstream(istream* input);</code>：从给定的 C++ <code>istream</code> 解析消息。</li></ul><p>这些只是用于解析和序列化的几个选项。同样，请参阅 <a href="https://protobuf.com.cn/reference/cpp/api-docs/google.protobuf.message/#Message"><code>Message</code> API 参考</a> 以获取完整列表。</p><div class="alert alert-warning" role="alert"><h4 class="alert-heading">重要</h4><strong>协议缓冲区和面向对象设计</strong> 协议缓冲区类基本上是数据持有者（如 C 中的结构），不提供其他功能；它们在对象模型中不是好的第一类公民。如果您想向生成的类添加更丰富行为，最好的方法是将生成的协议缓冲区类包装在特定于应用程序的类中。如果您无法控制 <code>.proto</code> 文件的设计（例如，如果您正在从另一个项目中重复使用一个文件），那么包装协议缓冲区也是一个好主意。在这种情况下，您可以使用包装器类来构建更适合您应用程序独特环境的接口：隐藏一些数据和方法，公开便利函数等。<strong>您绝不应通过继承从生成类中添加行为</strong>。这将破坏内部机制，而且无论如何也不是良好的面向对象实践。</div><h2 id="writing-a-message">编写消息<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#writing-a-message" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>现在让我们尝试使用您的协议缓冲区类。您希望您的通讯录应用程序能够做的第一件事是将个人详细信息写入通讯录文件中。为此，您需要创建并填充协议缓冲区类的实例，然后将它们写入输出流。</p><p>这是一个从文件中读取<code>AddressBook</code>的程序，根据用户输入向其中添加一个新的<code>Person</code>，并将新的<code>AddressBook</code>再次写回文件。直接调用或引用协议编译器生成的代码的部分已突出显示。</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;iostream&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;fstream&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;string&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">"addressbook.pb.h"</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:700">using</span> <span style="color:#204a87;font-weight:700">namespace</span> <span style="color:#000">std</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">// This function fills in a Person message based on user input.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">PromptForAddress</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person</span><span style="color:#ce5c00;font-weight:700">*</span> <span style="color:#000">person</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>  <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Enter person ID number: "</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">int</span> <span style="color:#000">id</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#000">cin</span> <span style="color:#ce5c00;font-weight:700">&gt;&gt;</span> <span style="color:#000">id</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#000">person</span><span style="color:#ce5c00;font-weight:700">-&gt;</span><span style="color:#000">set_id</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">id</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>  <span style="color:#000">cin</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">ignore</span><span style="color:#000;font-weight:700">(</span><span style="color:#0000cf;font-weight:700">256</span><span style="color:#000;font-weight:700">,</span> <span style="color:#4e9a06">'\n'</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Enter name: "</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#000">getline</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">cin</span><span style="color:#000;font-weight:700">,</span> <span style="color:#ce5c00;font-weight:700">*</span><span style="color:#000">person</span><span style="color:#ce5c00;font-weight:700">-&gt;</span><span style="color:#000">mutable_name</span><span style="color:#000;font-weight:700">());</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Enter email address (blank for none): "</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#000">string</span> <span style="color:#000">email</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#000">getline</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">cin</span><span style="color:#000;font-weight:700">,</span> <span style="color:#000">email</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#ce5c00;font-weight:700">!</span><span style="color:#000">email</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">empty</span><span style="color:#000;font-weight:700">())</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#000">person</span><span style="color:#ce5c00;font-weight:700">-&gt;</span><span style="color:#000">set_email</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">email</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">while</span> <span style="color:#000;font-weight:700">(</span><span style="color:#204a87">true</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Enter a phone number (or leave blank to finish): "</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000">string</span> <span style="color:#000">number</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000">getline</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">cin</span><span style="color:#000;font-weight:700">,</span> <span style="color:#000">number</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>    <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#000">number</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">empty</span><span style="color:#000;font-weight:700">())</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#204a87;font-weight:700">break</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    <span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">PhoneNumber</span><span style="color:#ce5c00;font-weight:700">*</span> <span style="color:#000">phone_number</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#000">person</span><span style="color:#ce5c00;font-weight:700">-&gt;</span><span style="color:#000">add_phones</span><span style="color:#000;font-weight:700">();</span>
</span></span><span style="display:flex"><span>    <span style="color:#000">phone_number</span><span style="color:#ce5c00;font-weight:700">-&gt;</span><span style="color:#000">set_number</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">number</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Is this a mobile, home, or work phone? "</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000">string</span> <span style="color:#000">type</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000">getline</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">cin</span><span style="color:#000;font-weight:700">,</span> <span style="color:#000">type</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>    <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:700">==</span> <span style="color:#4e9a06">"mobile"</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#000">phone_number</span><span style="color:#ce5c00;font-weight:700">-&gt;</span><span style="color:#000">set_type</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">PHONE_TYPE_MOBILE</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span> <span style="color:#204a87;font-weight:700">else</span> <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:700">==</span> <span style="color:#4e9a06">"home"</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#000">phone_number</span><span style="color:#ce5c00;font-weight:700">-&gt;</span><span style="color:#000">set_type</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">PHONE_TYPE_HOME</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span> <span style="color:#204a87;font-weight:700">else</span> <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#000">type</span> <span style="color:#ce5c00;font-weight:700">==</span> <span style="color:#4e9a06">"work"</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#000">phone_number</span><span style="color:#ce5c00;font-weight:700">-&gt;</span><span style="color:#000">set_type</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">PHONE_TYPE_WORK</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span> <span style="color:#204a87;font-weight:700">else</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Unknown phone type.  Using default."</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span><span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">// Main function:  Reads the entire address book from a file,
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">//   adds one person based on user input, then writes it back out to the same
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">//   file.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:700">int</span> <span style="color:#000">main</span><span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:700">,</span> <span style="color:#204a87;font-weight:700">char</span><span style="color:#ce5c00;font-weight:700">*</span> <span style="color:#000">argv</span><span style="color:#000;font-weight:700">[])</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>  <span style="color:#8f5902;font-style:italic">// Verify that the version of the library that we linked against is
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#8f5902;font-style:italic">// compatible with the version of the headers we compiled against.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">GOOGLE_PROTOBUF_VERIFY_VERSION</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#000">argc</span> <span style="color:#ce5c00;font-weight:700">!=</span> <span style="color:#0000cf;font-weight:700">2</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#000">cerr</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Usage:  "</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">argv</span><span style="color:#000;font-weight:700">[</span><span style="color:#0000cf;font-weight:700">0</span><span style="color:#000;font-weight:700">]</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">" ADDRESS_BOOK_FILE"</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#204a87;font-weight:700">return</span> <span style="color:#ce5c00;font-weight:700">-</span><span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">AddressBook</span> <span style="color:#000">address_book</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#8f5902;font-style:italic">// Read the existing address book.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">fstream</span> <span style="color:#000">input</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">argv</span><span style="color:#000;font-weight:700">[</span><span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">],</span> <span style="color:#000">ios</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">in</span> <span style="color:#ce5c00;font-weight:700">|</span> <span style="color:#000">ios</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">binary</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>    <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#ce5c00;font-weight:700">!</span><span style="color:#000">input</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">argv</span><span style="color:#000;font-weight:700">[</span><span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">]</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">": File not found.  Creating a new file."</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span> <span style="color:#204a87;font-weight:700">else</span> <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#ce5c00;font-weight:700">!</span><span style="color:#000">address_book</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">ParseFromIstream</span><span style="color:#000;font-weight:700">(</span><span style="color:#ce5c00;font-weight:700">&amp;</span><span style="color:#000">input</span><span style="color:#000;font-weight:700">))</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#000">cerr</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Failed to parse address book."</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>      <span style="color:#204a87;font-weight:700">return</span> <span style="color:#ce5c00;font-weight:700">-</span><span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#8f5902;font-style:italic">// Add an address.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">PromptForAddress</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">address_book</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">add_people</span><span style="color:#000;font-weight:700">());</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#8f5902;font-style:italic">// Write the new address book back to disk.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">fstream</span> <span style="color:#000">output</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">argv</span><span style="color:#000;font-weight:700">[</span><span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">],</span> <span style="color:#000">ios</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">out</span> <span style="color:#ce5c00;font-weight:700">|</span> <span style="color:#000">ios</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">trunc</span> <span style="color:#ce5c00;font-weight:700">|</span> <span style="color:#000">ios</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">binary</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>    <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#ce5c00;font-weight:700">!</span><span style="color:#000">address_book</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">SerializeToOstream</span><span style="color:#000;font-weight:700">(</span><span style="color:#ce5c00;font-weight:700">&amp;</span><span style="color:#000">output</span><span style="color:#000;font-weight:700">))</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#000">cerr</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Failed to write address book."</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>      <span style="color:#204a87;font-weight:700">return</span> <span style="color:#ce5c00;font-weight:700">-</span><span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#8f5902;font-style:italic">// Optional:  Delete all global objects allocated by libprotobuf.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">google</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">protobuf</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">ShutdownProtobufLibrary</span><span style="color:#000;font-weight:700">();</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">return</span> <span style="color:#0000cf;font-weight:700">0</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span><span style="color:#000;font-weight:700">}</span>
</span></span></code></pre></div><p>请注意<code>GOOGLE_PROTOBUF_VERIFY_VERSION</code>宏。在使用 C++ 协议缓冲区库之前执行此宏是一个好习惯——尽管不是严格必需的。它会验证您是否意外地链接到了与您编译的头文件版本不兼容的库版本。如果检测到版本不匹配，程序将中止。请注意，每个<code>.pb.cc</code>文件都会在启动时自动调用此宏。</p><p>还要注意在程序末尾调用<code>ShutdownProtobufLibrary()</code>。它所做的就是删除协议缓冲区库分配的所有全局对象。对于大多数程序来说，这是不必要的，因为进程无论如何都将退出，操作系统将负责回收其所有内存。但是，如果您使用需要释放每个最后一个对象的内存泄漏检查器，或者如果您正在编写一个可能被单个进程多次加载和卸载的库，那么您可能希望强制协议缓冲区清除所有内容。</p><h2 id="reading-a-message">读取消息<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#reading-a-message" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>当然，如果您无法从中获取任何信息，通讯录就没有多大用处！此示例读取上述示例创建的文件并打印其中的所有信息。</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;iostream&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;fstream&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;string&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">"addressbook.pb.h"</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:700">using</span> <span style="color:#204a87;font-weight:700">namespace</span> <span style="color:#000">std</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">// Iterates though all people in the AddressBook and prints info about them.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:700">void</span> <span style="color:#000">ListPeople</span><span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">const</span> <span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">AddressBook</span><span style="color:#ce5c00;font-weight:700">&amp;</span> <span style="color:#000">address_book</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">for</span> <span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">int</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">0</span><span style="color:#000;font-weight:700">;</span> <span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:700">&lt;</span> <span style="color:#000">address_book</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">people_size</span><span style="color:#000;font-weight:700">();</span> <span style="color:#000">i</span><span style="color:#ce5c00;font-weight:700">++</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#204a87;font-weight:700">const</span> <span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person</span><span style="color:#ce5c00;font-weight:700">&amp;</span> <span style="color:#000">person</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#000">address_book</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">people</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">i</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Person ID: "</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">person</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">id</span><span style="color:#000;font-weight:700">()</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"  Name: "</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">person</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">name</span><span style="color:#000;font-weight:700">()</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#000">person</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">has_email</span><span style="color:#000;font-weight:700">())</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"  E-mail address: "</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">person</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">email</span><span style="color:#000;font-weight:700">()</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>    <span style="color:#204a87;font-weight:700">for</span> <span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">int</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#0000cf;font-weight:700">0</span><span style="color:#000;font-weight:700">;</span> <span style="color:#000">j</span> <span style="color:#ce5c00;font-weight:700">&lt;</span> <span style="color:#000">person</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">phones_size</span><span style="color:#000;font-weight:700">();</span> <span style="color:#000">j</span><span style="color:#ce5c00;font-weight:700">++</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#204a87;font-weight:700">const</span> <span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">PhoneNumber</span><span style="color:#ce5c00;font-weight:700">&amp;</span> <span style="color:#000">phone_number</span> <span style="color:#ce5c00;font-weight:700">=</span> <span style="color:#000">person</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">phones</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">j</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>      <span style="color:#204a87;font-weight:700">switch</span> <span style="color:#000;font-weight:700">(</span><span style="color:#000">phone_number</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">type</span><span style="color:#000;font-weight:700">())</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>        <span style="color:#204a87;font-weight:700">case</span> <span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#f57900">PHONE_TYPE_MOBILE</span><span style="color:#000;font-weight:700">:</span>
</span></span><span style="display:flex"><span>          <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"  Mobile phone #: "</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>          <span style="color:#204a87;font-weight:700">break</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>        <span style="color:#204a87;font-weight:700">case</span> <span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#f57900">PHONE_TYPE_HOME</span><span style="color:#000;font-weight:700">:</span>
</span></span><span style="display:flex"><span>          <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"  Home phone #: "</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>          <span style="color:#204a87;font-weight:700">break</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>        <span style="color:#204a87;font-weight:700">case</span> <span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">Person</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#f57900">PHONE_TYPE_WORK</span><span style="color:#000;font-weight:700">:</span>
</span></span><span style="display:flex"><span>          <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"  Work phone #: "</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>          <span style="color:#204a87;font-weight:700">break</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>      <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>      <span style="color:#000">cout</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">phone_number</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">number</span><span style="color:#000;font-weight:700">()</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span><span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">// Main function:  Reads the entire address book from a file and prints all
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic">//   the information inside.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:700">int</span> <span style="color:#000">main</span><span style="color:#000;font-weight:700">(</span><span style="color:#204a87;font-weight:700">int</span> <span style="color:#000">argc</span><span style="color:#000;font-weight:700">,</span> <span style="color:#204a87;font-weight:700">char</span><span style="color:#ce5c00;font-weight:700">*</span> <span style="color:#000">argv</span><span style="color:#000;font-weight:700">[])</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>  <span style="color:#8f5902;font-style:italic">// Verify that the version of the library that we linked against is
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#8f5902;font-style:italic">// compatible with the version of the headers we compiled against.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">GOOGLE_PROTOBUF_VERIFY_VERSION</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#000">argc</span> <span style="color:#ce5c00;font-weight:700">!=</span> <span style="color:#0000cf;font-weight:700">2</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#000">cerr</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Usage:  "</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">argv</span><span style="color:#000;font-weight:700">[</span><span style="color:#0000cf;font-weight:700">0</span><span style="color:#000;font-weight:700">]</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">" ADDRESS_BOOK_FILE"</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#204a87;font-weight:700">return</span> <span style="color:#ce5c00;font-weight:700">-</span><span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#000">tutorial</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">AddressBook</span> <span style="color:#000">address_book</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>    <span style="color:#8f5902;font-style:italic">// Read the existing address book.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">fstream</span> <span style="color:#000">input</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">argv</span><span style="color:#000;font-weight:700">[</span><span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">],</span> <span style="color:#000">ios</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">in</span> <span style="color:#ce5c00;font-weight:700">|</span> <span style="color:#000">ios</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">binary</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>    <span style="color:#204a87;font-weight:700">if</span> <span style="color:#000;font-weight:700">(</span><span style="color:#ce5c00;font-weight:700">!</span><span style="color:#000">address_book</span><span style="color:#000;font-weight:700">.</span><span style="color:#000">ParseFromIstream</span><span style="color:#000;font-weight:700">(</span><span style="color:#ce5c00;font-weight:700">&amp;</span><span style="color:#000">input</span><span style="color:#000;font-weight:700">))</span> <span style="color:#000;font-weight:700">{</span>
</span></span><span style="display:flex"><span>      <span style="color:#000">cerr</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#4e9a06">"Failed to parse address book."</span> <span style="color:#ce5c00;font-weight:700">&lt;&lt;</span> <span style="color:#000">endl</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>      <span style="color:#204a87;font-weight:700">return</span> <span style="color:#ce5c00;font-weight:700">-</span><span style="color:#0000cf;font-weight:700">1</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span>    <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>  <span style="color:#000;font-weight:700">}</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#000">ListPeople</span><span style="color:#000;font-weight:700">(</span><span style="color:#000">address_book</span><span style="color:#000;font-weight:700">);</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#8f5902;font-style:italic">// Optional:  Delete all global objects allocated by libprotobuf.
</span></span></span><span style="display:flex"><span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">google</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">protobuf</span><span style="color:#ce5c00;font-weight:700">::</span><span style="color:#000">ShutdownProtobufLibrary</span><span style="color:#000;font-weight:700">();</span>
</span></span><span style="display:flex"><span>
</span></span><span style="display:flex"><span>  <span style="color:#204a87;font-weight:700">return</span> <span style="color:#0000cf;font-weight:700">0</span><span style="color:#000;font-weight:700">;</span>
</span></span><span style="display:flex"><span><span style="color:#000;font-weight:700">}</span>
</span></span></code></pre></div><h2 id="extending-a-protobuf">扩展协议缓冲区<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#extending-a-protobuf" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>在您发布使用协议缓冲区的代码后，迟早您肯定会想“改进”协议缓冲区的定义。如果您希望新缓冲区向后兼容，旧缓冲区向前兼容——您几乎肯定希望如此——那么您需要遵循一些规则。在新版本的协议缓冲区中</p><ul><li>您<em>不得</em>更改任何现有字段的字段号。</li><li>您<em>不得</em>添加或删除任何必需字段。</li><li>您<em>可以</em>删除可选或重复字段。</li><li>您<em>可以</em>添加新的可选或重复字段，但您必须使用新的字段号（即，此协议缓冲区中从未使用过的字段号，即使是已删除字段的字段号也不行）。</li></ul><p>（这些规则有一些<a href="https://protobuf.com.cn/programming-guides/proto#updating">例外</a>，但它们很少使用。）</p><p>如果您遵循这些规则，旧代码将乐于读取新消息，并简单地忽略任何新字段。对于旧代码，已删除的可选字段将简单地拥有其默认值，已删除的重复字段将为空。新代码也将透明地读取旧消息。但是，请记住，新可选字段不会出现在旧消息中，因此您需要使用<code>has_</code>明确检查它们是否已设置，或在字段编号后使用<code>[default = value]</code>在<code>.proto</code>文件中提供合理的默认值。如果未为可选元素指定默认值，则使用特定于类型的默认值：对于字符串，默认值为空字符串。对于布尔值，默认值为 false。对于数字类型，默认值为零。另请注意，如果您添加了一个新的重复字段，您的新代码将无法判断它是（由新代码）留空还是根本未设置（由旧代码），因为它没有<code>has_</code>标志。</p><h2 id="optimization">优化提示<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#optimization" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>C++ 协议缓冲区库经过极度优化。但是，正确使用可以进一步提高性能。以下是一些从库中榨取最后一点速度的技巧</p><ul><li>尽可能重用消息对象。消息尝试保留它们分配的任何内存以供重用，即使它们已被清除。因此，如果您连续处理许多具有相同类型和相似结构的消息，最好每次重用同一消息对象以减轻内存分配器的负担。但是，随着时间的推移，对象可能会变得臃肿，尤其是如果您的消息“形状”各不相同，或者如果您偶尔构建一个远大于通常大小的消息。您应该通过调用<code>SpaceUsed</code>方法来监视消息对象的大小，并在它们变得太大时删除它们。</li><li>您的系统的内存分配器可能无法针对从多个线程分配大量小对象进行优化。尝试改用<a href="https://github.com/google/tcmalloc">Google 的 TCMalloc</a>。</li></ul><h2 id="advanced-usage">高级用法<a aria-hidden="true" href="https://protobuf.com.cn/getting-started/cpptutorial/#advanced-usage" style="visibility: hidden;"> <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>协议缓冲区的使用超出了简单的访问器和序列化。务必浏览<a href="https://protobuf.com.cn/reference/cpp/">C++ API 参考</a>，了解您可以使用它们执行的其他操作。</p><p>协议消息类提供的一个关键功能是<em>反射</em>。您可以遍历消息的字段并操作它们的值，而无需针对任何特定消息类型编写代码。使用反射的一种非常有用的方法是将协议消息转换为其他编码（例如 XML 或 JSON），反之亦然。反射的更高级用法可能是查找同类型两个消息之间的差异，或开发一种“协议消息的正则表达式”，其中您可以编写与某些消息内容匹配的表达式。如果您发挥想象力，就可以将协议缓冲区应用于比您最初预期的更广泛的问题范围！</p><p>反射由 <a href="https://protobuf.com.cn/reference/cpp/api-docs/google.protobuf.message/#Reflection"><code>Message::Reflection</code> 接口</a> 提供。</p></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class="row"><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="Stack Overflow" data-original-title="Stack Overflow"><a class="text-white" target="_blank" rel="noopener" href="https://stackoverflow.com/questions/tagged/protocol-buffers" aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul><script type="text/javascript" id="cookiebanner" src="https://cdn.jsdelivr.net/gh/dobarkod/cookie-banner@1.2.2/dist/cookiebanner.min.js" data-height="50px" data-message="Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic." data-bg="#ffb" data-fg="#000" data-position="bottom" data-padding="10px 16px" data-close-text="OK, got it" data-font-size="18px" data-moreinfo="https://policies.google.com/technologies/cookies"></script></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="GitHub" data-original-title="GitHub"><a class="text-white" target="_blank" rel="noopener" href="https://github.com/protocolbuffers/protobuf" aria-label="GitHub"><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="Developer mailing list" data-original-title="Developer mailing list"><a class="text-white" target="_blank" rel="noopener" href="https://groups.google.com/g/protobuf" aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul><script type="text/javascript" id="cookiebanner" src="https://cdn.jsdelivr.net/gh/dobarkod/cookie-banner@1.2.2/dist/cookiebanner.min.js" data-height="50px" data-message="Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic." data-bg="#ffb" data-fg="#000" data-position="bottom" data-padding="10px 16px" data-close-text="OK, got it" data-font-size="18px" data-moreinfo="https://policies.google.com/technologies/cookies"></script></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class="text-white">© 2024 Google LLC 保留所有权利</small> <small class="ml-1"><a href="https://policies.google.com/privacy" target="_blank" rel="noopener">隐私政策</a></small> <span class="text-white">由 GitHub Pages 托管。</span> <a href="https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement" target="_blank">GitHub 隐私声明</a></div></div></div></footer></div><script src="./协议缓冲区基础知识：C++ _ 协议缓冲区文档 - ProtoBuf 中文_files/main.min.ba08a6b7f24e657f0a1b9b55be3a3162585168cd862ace0957f5b44e6cb6dc61.js" integrity="sha256-ugimt/JOZX8KG5tVvjoxYlhRaM2GKs4JV/W0Tmy23GE=" crossorigin="anonymous"></script><script src="./协议缓冲区基础知识：C++ _ 协议缓冲区文档 - ProtoBuf 中文_files/tabpane-persist.js"></script><script defer="" src="./协议缓冲区基础知识：C++ _ 协议缓冲区文档 - ProtoBuf 中文_files/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;rayId&quot;:&quot;895a4f65dbe208af&quot;,&quot;r&quot;:1,&quot;version&quot;:&quot;2024.4.1&quot;,&quot;token&quot;:&quot;147fc2c61fd34b1497828d0c12f6a5d8&quot;}" crossorigin="anonymous"></script>
<div class="cookiebanner" style="position: fixed; left: 0px; right: 0px; height: 50px; min-height: 21px; z-index: 255; background: rgb(255, 255, 187); color: rgb(0, 0, 0); line-height: 21px; padding: 5px 16px; font-family: arial, sans-serif; font-size: 18px; text-align: center; bottom: 0px; opacity: 1;"><div class="cookiebanner-close" style="float: right; padding-left: 5px; cursor: pointer;">OK, got it</div><span>Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic. <a href="https://policies.google.com/technologies/cookies" target="_blank" rel="noopener noreferrer" style="text-decoration: none; color: rgb(170, 170, 170); font-weight: normal;">Learn more</a></span></div></body></html>